{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hirthic\\\\Desktop\\\\JPA-Data-Confirmation-System\\\\frontend\\\\src\\\\SubmissionApp.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { saveConfirmed } from './utils/confirmedStore';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SubmissionApp() {\n  _s();\n  const [systemsData, setSystemsData] = useState({});\n  const [flowType, setFlowType] = useState('Inbound');\n  const [system, setSystem] = useState('');\n  const [module, setModule] = useState('');\n  const [availableModules, setAvailableModules] = useState([]);\n  const [availableElements, setAvailableElements] = useState([]);\n  const [elements, setElements] = useState([]);\n  const [remarkInput, setRemarkInput] = useState('');\n  const [newElementInput, setNewElementInput] = useState('');\n  const [remarks, setRemarks] = useState([]);\n  const showNotConfirmButton = false; // 🔒 Client-requested: hidden for now, re-enable if needed\n  const allowOutboundFlow = false; // 🔒 Hide outbound for now; re-enable if client requests\n  const allowedSystems = {\n    Outbound: ['Sistem Pengurusan Meja Bantuan (SPMB)'],\n    Inbound: ['Sistem Pengurusan Meja Bantuan (SPMB)']\n  };\n  const navigate = useNavigate();\n  useEffect(() => {\n    // 🔄 Try backend first\n    axios.get('http://localhost:3001/systems').then(res => {\n      setSystemsData(res.data);\n      const flows = Object.keys(res.data).filter(flow => allowOutboundFlow || flow === 'Inbound');\n      setFlowType(flows[0]);\n    }).catch(() => {\n      // 🔁 Fallback to public/systems.json\n      fetch('/systems.json').then(res => res.json()).then(data => {\n        setSystemsData(data);\n        const flows = Object.keys(data) // grab both flows in file\n        .filter(flow => allowOutboundFlow || flow === 'Inbound'); // keep only Inbound\n        setFlowType(flows[0]);\n      }).catch(err => console.error(\"❌ Failed to load systems.json:\", err));\n    });\n  }, []);\n  useEffect(() => {\n    if (!systemsData[flowType]) return;\n    const sysList = Object.keys(systemsData[flowType]).filter(sys => {\n      var _allowedSystems$flowT;\n      return (_allowedSystems$flowT = allowedSystems[flowType]) === null || _allowedSystems$flowT === void 0 ? void 0 : _allowedSystems$flowT.includes(sys);\n    });\n    if (!sysList.includes(system)) {\n      setSystem(sysList[0] || '');\n    }\n  }, [flowType, systemsData, system]);\n  useEffect(() => {\n    var _systemsData$flowType;\n    if (!system || !((_systemsData$flowType = systemsData[flowType]) !== null && _systemsData$flowType !== void 0 && _systemsData$flowType[system])) return;\n    console.log(\"🔍 Available modules for\", system, \"→\", Object.keys(systemsData[flowType][system]));\n    const moduleEntries = Object.entries(systemsData[flowType][system]);\n\n    // Remove invisible whitespace from module names\n    const filteredModules = moduleEntries.map(([modName]) => modName.trim());\n    setAvailableModules(filteredModules);\n\n    // Ensure selected module is valid\n    if (!filteredModules.includes(module.trim())) {\n      setModule('');\n    }\n  }, [system, flowType, systemsData]);\n  useEffect(() => {\n    var _systemsData$flowType2, _selectedModule$;\n    if (!module) return;\n    const normalizedModules = Object.entries((systemsData === null || systemsData === void 0 ? void 0 : (_systemsData$flowType2 = systemsData[flowType]) === null || _systemsData$flowType2 === void 0 ? void 0 : _systemsData$flowType2[system]) || {});\n    const selectedModule = normalizedModules.find(([name]) => name.trim() === module.trim());\n    const modData = (selectedModule === null || selectedModule === void 0 ? void 0 : (_selectedModule$ = selectedModule[1]) === null || _selectedModule$ === void 0 ? void 0 : _selectedModule$.elements) || [];\n    console.log(\"🧪 module:\", module);\n    console.log(\"🧪 elements:\", modData);\n    setAvailableElements(modData);\n    setElements(prev => prev.filter(e => {\n      const name = typeof e === 'string' ? e : e.name;\n      return modData.includes(name);\n    }));\n  }, [module, system, flowType, systemsData]);\n  const flattenOutboundElements = confirmed => {\n    if (!availableElements || availableElements.length === 0) return [];\n    if (typeof availableElements[0] === 'object' && availableElements[0].group) {\n      return availableElements.flatMap(group => group.fields.filter(field => elements.includes(field)).map(name => ({\n        name,\n        confirmed\n      })));\n    } else {\n      return elements.map(name => ({\n        name,\n        confirmed\n      }));\n    }\n  };\n  const handleSelect = value => {\n    if (flowType === 'Outbound') {\n      setElements(prev => prev.includes(value) ? prev.filter(el => el !== value) : [...prev, value]);\n    } else {\n      setElements(prev => {\n        const exist = prev.find(el => el.name === value);\n        return exist ? prev.filter(el => el.name !== value) : [...prev, {\n          name: value,\n          confirmed: true\n        }];\n      });\n    }\n  };\n  const addRemark = () => {\n    if (remarkInput.trim()) {\n      setRemarks(prev => [...prev, remarkInput.trim()]);\n      setRemarkInput('');\n    }\n  };\n  // --- NEW ---\n  const addDataElement = () => {\n    const label = newElementInput.trim();\n    if (!label) return;\n\n    // simple confirm-dialog; replace with a custom modal if you prefer\n    if (!window.confirm(`Tambah \"${label}\" ke dalam modul ini?`)) return;\n\n    // Append to list (avoids duplicates)\n    setAvailableElements(prev => prev.includes(label) ? prev : [...prev, label]);\n\n    // Tick it automatically for Inbound\n    setElements(prev => {\n      const exists = prev.find(e => e.name === label);\n      return exists ? prev : [...prev, {\n        name: label,\n        confirmed: true\n      }];\n    });\n    setNewElementInput(''); // clear the textbox\n  };\n  const submit = confirmed => {\n    if (remarkInput) {\n      alert(\"Sila tambah catatan terlebih dahulu.\");\n      return;\n    }\n    if (!elements || elements.length === 0) {\n      alert(\"Sila pilih sekurang-kurangnya satu elemen data.\");\n      return;\n    }\n    const payload = {\n      flowType,\n      system,\n      module,\n      elements: flowType === 'Outbound' ? flattenOutboundElements(confirmed) : elements.map(e => ({\n        name: e.name,\n        confirmed\n      })),\n      // Only Outbound still sends remarks\n      ...(flowType === 'Outbound' && {\n        remarks: remarks.join('; ')\n      })\n    };\n    axios.post('http://localhost:3001/submit', payload).then(() => {\n      console.log(\"✅ Submitted payload:\", payload);\n      if (flowType === 'Inbound') {\n        const confirmedNames = payload.elements.map(e => e.name);\n        saveConfirmed(system, module, confirmedNames);\n        navigate('/requirement');\n      }\n      alert('Telah dihantar!');\n      setElements([]);\n      if (flowType === 'Outbound') {\n        setRemarks([]);\n        setRemarkInput('');\n      }\n    }).catch(err => {\n      console.error('Submission failed:', err);\n      alert('Something went wrong while submitting.');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"confirmation-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"nav-title\",\n      children: \"JPA Data Confirmation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Aliran Data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: flowType,\n        onChange: e => setFlowType(e.target.value),\n        children: Object.keys(systemsData).filter(flow => allowOutboundFlow || flow === 'Inbound') // ⛔ show only Inbound\n        .map(flow => /*#__PURE__*/_jsxDEV(\"option\", {\n          children: flow\n        }, flow, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nama Sistem:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: system,\n        onChange: e => setSystem(e.target.value),\n        children: Object.keys(systemsData[flowType] || {}).filter(sys => {\n          var _allowedSystems$flowT2;\n          return (_allowedSystems$flowT2 = allowedSystems[flowType]) === null || _allowedSystems$flowT2 === void 0 ? void 0 : _allowedSystems$flowT2.includes(sys);\n        }).map(sys => /*#__PURE__*/_jsxDEV(\"option\", {\n          children: sys\n        }, sys, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nama Modul:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: module,\n        onChange: e => setModule(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Pilih Modul --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 3\n        }, this), availableModules.map(mod => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: mod,\n          children: mod\n        }, mod, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 5\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Elemen Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"element-section\",\n      children: Array.isArray(availableElements) && availableElements.map((item, idx) => {\n        // ✅ Case 1: Grouped elements (object with group and fields)\n        if (typeof item === 'object' && item.group && Array.isArray(item.fields)) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: item.group\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 11\n            }, this), item.fields.map((field, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: flowType === 'Inbound' ? elements.some(e => e.name === field) : elements.includes(field),\n                onChange: () => handleSelect(field)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: field\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 15\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 13\n            }, this))]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 9\n          }, this);\n        }\n\n        // ✅ Case 2: Flat elements (simple strings)\n        if (typeof item === 'string') {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: flowType === 'Inbound' ? elements.some(e => e.name === item) : elements.includes(item),\n              onChange: () => handleSelect(item)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 11\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 9\n          }, this);\n        }\n\n        // ❌ Case 3: Unrecognized structure — skip rendering\n        return null;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 1\n    }, this), flowType === 'Outbound' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Catatan:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remarks-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: remarkInput,\n          onChange: e => setRemarkInput(e.target.value),\n          placeholder: \"Tambah catatan...\",\n          className: \"remarks-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addRemark,\n          className: \"add-remark-btn\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remarks-list\",\n        children: remarks.map((r, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"remark-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setRemarks(remarks.filter((_, i) => i !== idx)),\n            children: \"\\u274C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 11\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 3\n    }, this), flowType === 'Inbound' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add Data Element:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remarks-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newElementInput,\n          onChange: e => setNewElementInput(e.target.value),\n          placeholder: \"e.g. KPI Score\",\n          className: \"remarks-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addDataElement,\n          className: \"add-remark-btn\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => submit(true),\n        children: \"Sahkan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), showNotConfirmButton && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => submit(false),\n        children: \"Tidak Disahkan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_s(SubmissionApp, \"qly3C3VxhBsvMZlYRa8kDcrn5k4=\", false, function () {\n  return [useNavigate];\n});\n_c = SubmissionApp;\nvar _c;\n$RefreshReg$(_c, \"SubmissionApp\");","map":{"version":3,"names":["React","useState","useEffect","axios","saveConfirmed","useNavigate","jsxDEV","_jsxDEV","SubmissionApp","_s","systemsData","setSystemsData","flowType","setFlowType","system","setSystem","module","setModule","availableModules","setAvailableModules","availableElements","setAvailableElements","elements","setElements","remarkInput","setRemarkInput","newElementInput","setNewElementInput","remarks","setRemarks","showNotConfirmButton","allowOutboundFlow","allowedSystems","Outbound","Inbound","navigate","get","then","res","data","flows","Object","keys","filter","flow","catch","fetch","json","err","console","error","sysList","sys","_allowedSystems$flowT","includes","_systemsData$flowType","log","moduleEntries","entries","filteredModules","map","modName","trim","_systemsData$flowType2","_selectedModule$","normalizedModules","selectedModule","find","name","modData","prev","e","flattenOutboundElements","confirmed","length","group","flatMap","fields","field","handleSelect","value","el","exist","addRemark","addDataElement","label","window","confirm","exists","submit","alert","payload","join","post","confirmedNames","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","_allowedSystems$flowT2","mod","Array","isArray","item","idx","i","type","checked","some","placeholder","onClick","r","_","_c","$RefreshReg$"],"sources":["C:/Users/Hirthic/Desktop/JPA-Data-Confirmation-System/frontend/src/SubmissionApp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\nimport { saveConfirmed } from './utils/confirmedStore';\r\nimport { useNavigate } from 'react-router-dom'; \r\n\r\nexport default function SubmissionApp() {\r\n  const [systemsData, setSystemsData] = useState({});\r\n  const [flowType, setFlowType] = useState('Inbound');\r\n  const [system, setSystem] = useState('');\r\n  const [module, setModule] = useState('');\r\n  const [availableModules, setAvailableModules] = useState([]);\r\n  const [availableElements, setAvailableElements] = useState([]);\r\n  const [elements, setElements] = useState([]);\r\n  const [remarkInput, setRemarkInput] = useState('');\r\n  const [newElementInput, setNewElementInput] = useState('');\r\n  const [remarks, setRemarks] = useState([]);\r\n  const showNotConfirmButton = false; // 🔒 Client-requested: hidden for now, re-enable if needed\r\n  const allowOutboundFlow = false; // 🔒 Hide outbound for now; re-enable if client requests\r\n  const allowedSystems = {\r\n  Outbound: ['Sistem Pengurusan Meja Bantuan (SPMB)'],\r\n  Inbound: ['Sistem Pengurusan Meja Bantuan (SPMB)']\r\n};\r\n\r\n \r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // 🔄 Try backend first\r\n    axios.get('http://localhost:3001/systems')\r\n      .then(res => {\r\n        setSystemsData(res.data);\r\n        const flows = Object.keys(res.data).filter(flow => allowOutboundFlow || flow === 'Inbound');\r\n        setFlowType(flows[0]);\r\n      })\r\n      .catch(() => {\r\n        // 🔁 Fallback to public/systems.json\r\n        fetch('/systems.json')\r\n          .then(res => res.json())\r\n          .then(data => {\r\n  setSystemsData(data);\r\n  const flows = Object.keys(data)                 // grab both flows in file\r\n    .filter(flow => allowOutboundFlow || flow === 'Inbound'); // keep only Inbound\r\n  setFlowType(flows[0]);\r\n})\r\n\r\n          .catch(err => console.error(\"❌ Failed to load systems.json:\", err));\r\n      });\r\n  }, []);\r\n\r\nuseEffect(() => {\r\n  if (!systemsData[flowType]) return;\r\n  const sysList = Object.keys(systemsData[flowType])\r\n    .filter(sys => allowedSystems[flowType]?.includes(sys));\r\n  if (!sysList.includes(system)) {\r\n    setSystem(sysList[0] || '');\r\n  }\r\n}, [flowType, systemsData, system]);\r\n\r\n\r\nuseEffect(() => {\r\n  if (!system || !systemsData[flowType]?.[system]) return;\r\n console.log(\"🔍 Available modules for\", system, \"→\", Object.keys(systemsData[flowType][system]));\r\n  const moduleEntries = Object.entries(systemsData[flowType][system]);\r\n\r\n// Remove invisible whitespace from module names\r\nconst filteredModules = moduleEntries.map(([modName]) => modName.trim());\r\n\r\nsetAvailableModules(filteredModules);\r\n\r\n// Ensure selected module is valid\r\nif (!filteredModules.includes(module.trim())) {\r\n  setModule('');\r\n}\r\n}, [system, flowType, systemsData]);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  if (!module) return;\r\n  const normalizedModules = Object.entries(systemsData?.[flowType]?.[system] || {});\r\n  const selectedModule = normalizedModules.find(([name]) => name.trim() === module.trim());\r\n  const modData = selectedModule?.[1]?.elements || [];\r\n  console.log(\"🧪 module:\", module);\r\n  console.log(\"🧪 elements:\", modData);\r\n  setAvailableElements(modData);\r\n  setElements(prev =>\r\n    prev.filter(e => {\r\n      const name = typeof e === 'string' ? e : e.name;\r\n      return modData.includes(name);\r\n    })\r\n  );\r\n}, [module, system, flowType, systemsData]);\r\n\r\n\r\nconst flattenOutboundElements = (confirmed) => {\r\n  if (!availableElements || availableElements.length === 0) return [];\r\n\r\n  if (typeof availableElements[0] === 'object' && availableElements[0].group) {\r\n    return availableElements.flatMap(group =>\r\n      group.fields.filter(field => elements.includes(field))\r\n                  .map(name => ({ name, confirmed }))\r\n    );\r\n  } else {\r\n    return elements.map(name => ({ name, confirmed }));\r\n  }\r\n};\r\n\r\n\r\n  const handleSelect = (value) => {\r\n    if (flowType === 'Outbound') {\r\n      setElements(prev => prev.includes(value) ? prev.filter(el => el !== value) : [...prev, value]);\r\n    } else {\r\n      setElements(prev => {\r\n        const exist = prev.find(el => el.name === value);\r\n        return exist\r\n          ? prev.filter(el => el.name !== value)\r\n          : [...prev, { name: value, confirmed: true }];\r\n      });\r\n    }\r\n  };\r\n\r\n  const addRemark = () => {\r\n    if (remarkInput.trim()) {\r\n      setRemarks(prev => [...prev, remarkInput.trim()]);\r\n      setRemarkInput('');\r\n    }\r\n  };\r\n// --- NEW ---\r\nconst addDataElement = () => {\r\n  const label = newElementInput.trim();\r\n  if (!label) return;\r\n\r\n  // simple confirm-dialog; replace with a custom modal if you prefer\r\n  if (!window.confirm(`Tambah \"${label}\" ke dalam modul ini?`)) return;\r\n\r\n  // Append to list (avoids duplicates)\r\n  setAvailableElements(prev =>\r\n    prev.includes(label) ? prev : [...prev, label]\r\n  );\r\n\r\n  // Tick it automatically for Inbound\r\n  setElements(prev => {\r\n    const exists = prev.find(e => e.name === label);\r\n    return exists ? prev : [...prev, { name: label, confirmed: true }];\r\n  });\r\n\r\n  setNewElementInput('');   // clear the textbox\r\n};\r\n\r\nconst submit = (confirmed) => {\r\n  if (remarkInput) {\r\n    alert(\"Sila tambah catatan terlebih dahulu.\");\r\n    return;\r\n  }\r\n  if (!elements || elements.length === 0) {\r\n    alert(\"Sila pilih sekurang-kurangnya satu elemen data.\");\r\n    return;\r\n  }\r\n\r\nconst payload = {\r\n  flowType,\r\n  system,\r\n  module,\r\n  elements: flowType === 'Outbound'\r\n    ? flattenOutboundElements(confirmed)\r\n    : elements.map(e => ({ name: e.name, confirmed })),\r\n  // Only Outbound still sends remarks\r\n  ...(flowType === 'Outbound' && { remarks: remarks.join('; ') })\r\n};\r\n\r\n\r\n  axios.post('http://localhost:3001/submit', payload)\r\n  \r\n    .then(() => {\r\n      console.log(\"✅ Submitted payload:\", payload);\r\n       if (flowType === 'Inbound') {\r\n      const confirmedNames = payload.elements.map(e => e.name);\r\n      saveConfirmed(system, module, confirmedNames);\r\n      navigate('/requirement');\r\n    }\r\n      alert('Telah dihantar!');\r\n      setElements([]);\r\n     if (flowType === 'Outbound') {\r\n        setRemarks([]);\r\n        setRemarkInput('');\r\n      }\r\n    }).catch(err => {\r\n      console.error('Submission failed:', err);\r\n      alert('Something went wrong while submitting.');\r\n    });\r\n};\r\n\r\n\r\n  return (\r\n    <div className=\"confirmation-section\">\r\n      <h1 className=\"nav-title\">JPA Data Confirmation</h1>\r\n      <div className=\"form-group\">\r\n        <label>Aliran Data:</label>\r\n        <select value={flowType} onChange={e => setFlowType(e.target.value)}>\r\n  {Object.keys(systemsData)\r\n    .filter(flow => allowOutboundFlow || flow === 'Inbound') // ⛔ show only Inbound\r\n    .map(flow => (\r\n      <option key={flow}>{flow}</option>\r\n    ))}\r\n</select>\r\n\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Nama Sistem:</label>\r\n<select value={system} onChange={e => setSystem(e.target.value)}>\r\n  {Object.keys(systemsData[flowType] || {})\r\n    .filter(sys => allowedSystems[flowType]?.includes(sys))\r\n    .map(sys => (\r\n      <option key={sys}>{sys}</option>\r\n    ))}\r\n</select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Nama Modul:</label>\r\n        <select value={module} onChange={e => setModule(e.target.value)}>\r\n  <option value=\"\">-- Pilih Modul --</option>\r\n  {availableModules.map(mod => (\r\n    <option key={mod} value={mod}>{mod}</option>\r\n  ))}\r\n</select>\r\n      </div>\r\n\r\n      <h3>Elemen Data</h3>\r\n<div className=\"element-section\">\r\n  {Array.isArray(availableElements) && availableElements.map((item, idx) => {\r\n    // ✅ Case 1: Grouped elements (object with group and fields)\r\n    if (typeof item === 'object' && item.group && Array.isArray(item.fields)) {\r\n      return (\r\n        <div key={idx} className=\"group\">\r\n          <h4>{item.group}</h4>\r\n          {item.fields.map((field, i) => (\r\n            <div key={i} className=\"checkbox-item\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={\r\n                  flowType === 'Inbound'\r\n                    ? elements.some(e => e.name === field)\r\n                    : elements.includes(field)\r\n                }\r\n                onChange={() => handleSelect(field)}\r\n              />\r\n              <label>{field}</label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // ✅ Case 2: Flat elements (simple strings)\r\n    if (typeof item === 'string') {\r\n      return (\r\n        <div key={idx} className=\"checkbox-item\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={\r\n  flowType === 'Inbound'\r\n    ? elements.some(e => e.name === item)\r\n    : elements.includes(item)\r\n}\r\n\r\n            onChange={() => handleSelect(item)}\r\n          />\r\n          <label>{item}</label>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // ❌ Case 3: Unrecognized structure — skip rendering\r\n    return null;\r\n  })}\r\n</div>\r\n       \r\n{/* -------- Dynamic bottom input area -------- */}\r\n{flowType === 'Outbound' && (\r\n  <div className=\"form-group\">\r\n    <label>Catatan:</label>\r\n    <div className=\"remarks-container\">\r\n      <input\r\n        type=\"text\"\r\n        value={remarkInput}\r\n        onChange={e => setRemarkInput(e.target.value)}\r\n        placeholder=\"Tambah catatan...\"\r\n        className=\"remarks-input\"\r\n      />\r\n      <button onClick={addRemark} className=\"add-remark-btn\">+</button>\r\n    </div>\r\n    <div className=\"remarks-list\">\r\n      {remarks.map((r, idx) => (\r\n        <div key={idx} className=\"remark-item\">\r\n          <span>{r}</span>\r\n          <button onClick={() => setRemarks(remarks.filter((_, i) => i !== idx))}>\r\n            ❌\r\n          </button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n{flowType === 'Inbound' && (\r\n  <div className=\"form-group\">\r\n    <label>Add Data Element:</label>\r\n    <div className=\"remarks-container\">\r\n      <input\r\n        type=\"text\"\r\n        value={newElementInput}\r\n        onChange={e => setNewElementInput(e.target.value)}\r\n        placeholder=\"e.g. KPI Score\"\r\n        className=\"remarks-input\"\r\n      />\r\n      <button onClick={addDataElement} className=\"add-remark-btn\">+</button>\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n\r\n      <div className=\"button-group\">\r\n        <button onClick={() => submit(true)}>Sahkan</button>\r\n        {showNotConfirmButton && (\r\n    <button onClick={() => submit(false)}>Tidak Disahkan</button>\r\n  )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}